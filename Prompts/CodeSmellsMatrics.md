# Code Smells and Metrics Table

| Definition                                                                                                               | Code Smell                                | Metric                                        | Threshold Value                     | Explanation                                                                                                                    | Action                                                                                                                         |
|--------------------------------------------------------------------------------------------------------------------------|-------------------------------------------|----------------------------------------------|-------------------------------------|--------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------|
| Code smells that refer to code that has grown too large and complex, making it difficult to maintain, understand, and modify | **Bloaters**                              |                                              |                                     |                                                                                                                                |                                                                                                                               |
| Classes tend to grow due to new requirements                                                                            | Large Class                               | Lines of code                                 | > 200 lines                         | Classes exceeding 200 lines are generally considered too large and might benefit from refactoring.                             | Split the class into smaller, more focused classes, each handling a specific responsibility.                                  |
|                                                                                                                          |                                           | LCOM (Lack of Cohesion of Methods) 4          | > 1                                 | LCOM4 > 1 suggests low cohesion, indicating that the class may have multiple responsibilities.                                | Separate the responsibilities into different classes to increase cohesion.                                                    |
|                                                                                                                          |                                           | Cyclomatic complexity                         | > 10                                | An average complexity above 10 suggests methods are consistently complex, indicating the class may be too large or multifaceted. | Break down complex methods, and consider using helper classes or methods for different functionalities.                        |
|                                                                                                                          |                                           | Number of attributes                          | > 10                                | Classes with more than 10 attributes might benefit from refactoring to focus responsibilities.                                | Use composition or extract subclasses to encapsulate related attributes.                                                      |
|                                                                                                                          |                                           | Number of methods                             | > 15                                | A class with more than 15 methods may be handling too many tasks and could benefit from splitting responsibilities.            | Create helper classes or modules to distribute functionality.                                                                 |
| Methods or functions that violate the Single Responsibility Principle (SRP)                                              | Long Method                               | Lines of code                                 | > 20 lines                         | Methods over 20 lines are generally harder to understand and maintain, making them candidates for refactoring.                | Break the method into smaller helper methods, each performing a distinct part of the task.                                    |
|                                                                                                                          |                                           | Cyclomatic complexity                         | > 10                                | High cyclomatic complexity (above 10) indicates excessive branching, suggesting the method is too complex.                    | Reduce branching by simplifying conditional logic, and consider applying the Strategy pattern.                                |
|                                                                                                                          |                                           | Number of attributes                          | > 4                                 | If a method accesses or modifies more than four attributes, it may be handling too much class state and could be simplified.   | Move functionality to a new class that only handles these attributes.                                                        |
| A pattern of sequence of primitive data types that are often used together                                               | Primitive Obsession                       | Pattern Frequency                             | > 2 occurrences                     | Patterns of repeated attributes should be abstracted into classes if they occur more than twice.                               | Use a custom data class or structure to encapsulate repeated primitives.                                                      |
| A pattern of sequence of variables that are often used together                                                          | Data Clumps                               | Pattern Frequency                             | > 2 occurrences                     | Data clumps (frequently used groups of parameters) should be encapsulated if repeated more than twice.                        | Encapsulate these parameters into a data class or object, simplifying parameter passing.                                      |
|                                                                                                                          | Long Parameter List                       | Number of Parameters in Method                | > 4 parameters                      | Methods with more than four parameters can benefit from refactoring, possibly by using a parameter object or class.           | Introduce a parameter object or class to group related parameters together.                                                   |
| High level of coupling between classes                                                                                   | **Couplers**                              |                                              |                                     |                                                                                                                                |                                                                                                                               |
| A method accesses another class’s data more than its own                                                                 | Feature Envy                              | Number of foreign method calls                | > 3 calls to a single class         | When a method frequently calls methods of another class, it indicates that it may belong there.                               | Move the method to the class it frequently interacts with, or use dependency injection.                                      |
| Classes have too much knowledge of each other’s attributes and methods, creating dependencies                            | Inappropriate Intimacy                    | Number of private/protected members accessed  | > 2 per external class             | When a class frequently accesses private or protected members of another class, it suggests excessive intimacy.               | Refactor to reduce dependencies, or consider merging the classes if they are too interdependent.                              |
| A series of method calls are chained together in a single statement                                                      | Message Chains                            | Length of method call chain                   | > 2 chained calls                   | Chains longer than three method calls in succession signal excessive dependency on other classes.                              | Use the Law of Demeter; introduce intermediary methods or apply the Facade pattern to reduce chaining.                        |
| Method acts as an intermediary but adds little or no value                                                               | Middle Man                                | Methods that delegate their work to another class | > 50% methods are delegated     | If more than half of a class's methods simply delegate to other classes, it may be acting as a "middle man".                  | Remove the middle man by calling the delegate directly from the client class.                                                 |
| Parts of the code that are not necessary and can be removed                                                              | **Dispensables**                          |                                              |                                     |                                                                                                                                |                                                                                                                               |
| Code that is repeated multiple times within a program                                                                    | Duplicate Code                            | Code Similarity                               | > 80% similarity                    | Blocks of code with high similarity (e.g., > 80%) across different parts of the codebase indicate duplication.               | Extract duplicated code into shared methods or classes.                                                                      |
| A placeholder class that initializes resources or properties until needed                                                | Lazy Class                                | Number of attributes                          | < 2                                 | Classes with fewer than 2 attributes may lack sufficient functionality to justify existence.                                 | Merge with a related class or remove if unnecessary.                                                                         |
|                                                                                                                          |                                           | Number of methods                             | < 3                                 | Classes with fewer than 3 methods often don’t warrant a separate class and may be merged.                                     | Merge with a related class, or eliminate the class if it adds no value.                                                      |
| Special case of Lazy Class where the class only holds data                                                               | Data Class                                | Number of methods                             | equal 0                             | Classes with no methods often don’t warrant a separate class and may be merged.                                               | Move the data to another class that handles similar data or create a data structure.                                         |
| Code that is no longer used                                                                                              | Dead Code                                 | Frequency of Code Usage                       | < 1                                 | Code that isn’t used (e.g., never called or referenced) is unnecessary and can be removed.                                   | Remove unused code to improve maintainability and readability.                                                               |
| Coding a feature for a future intended use without current implementation                                                | Speculative Generality                    | Frequency of class usage                      | < 1                                 | Class that isn’t used (e.g., never called or referenced) is unnecessary and can be removed.                                  | Remove unused classes, methods, or attributes until they are actually needed.                                                |
|                                                                                                                          |                                           | Frequency of method usage                     | < 1                                 | Method that isn’t used (e.g., never called or referenced) is unnecessary and can be removed.                                 | Remove or refactor unused methods.                                                                                           |
|                                                                                                                          |                                           | Frequency of attribute usage                  | < 1                                 | Attribute that isn’t used (e.g., never called or referenced) is unnecessary and can be removed.                             | Remove unused attributes.                                                                                                    |
| Poor usage of object-oriented principles                                                                                 | **Object-Oriented Abusers**               |                                              |                                     |                                                                                                                                |                                                                                                                               |
| If/Else statement complexity makes code hard to understand                                                               | If Statements                             | Number of Nested If/Else Levels               | > 2 levels                          | Nesting more than 2 if/else blocks leads to hard-to-read and error-prone code, suggesting the need for refactoring.         | Use polymorphism or strategy patterns to simplify conditional logic.                                                         |
|                                                                                                                          |                                           | Total Number of If/Else Statements in Method  | > 5 statements per method           | Methods with more than 5 conditional statements indicate complex logic that could benefit from polymorphism or restructuring. | Break down complex conditional logic into smaller, specialized methods.                                                      |
| Complexity in switch statements makes code hard to understand                                                            | Switch Statements                         | Number of switch/case statements that could use polymorphism | > 1 switch statement per class | Classes with multiple switch statements can often be refactored using polymorphism.                                           | Replace switch statements with polymorphic classes or use the Factory pattern.                                               |
|                                                                                                                          |                                           | Complexity of Switch/Cases                    | > 3 cases per switch                | Switch statements with more than 3 cases may be better served by polymorphism or subclasses.                                  | Break down cases into separate methods or use subclasses to handle specific cases.                                           |
| Temporary fields are only needed in specific conditions                                                                  | Temporary Field                           | Fields only set in certain circumstances      | Fields set in < 50% of cases       | Fields that are conditionally initialized or rarely used indicate a design issue and can often be refactored.                | Move the field to a class where it is always needed, or create a dedicated class for conditional attributes.                 |
| Inherited methods or fields are not used                                                                                | Refused Bequest                           | Number of Unused Inherited Methods/fields     | > 1 methods or fields              | Classes that inherit methods or fields they don’t use often violate the Liskov Substitution Principle.                       | Refactor the inheritance structure, or use composition instead.                                                              |
